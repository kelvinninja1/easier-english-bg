!function(e){function t(t,n,a){if("object"!=typeof t&&(t={}),a){if("boolean"!=typeof t.isMenu){var o=a.children();t.isMenu=1==o.length&&o.is(n.panelNodetype)}return t}if("object"!=typeof t.onClick&&(t.onClick={}),"undefined"!=typeof t.onClick.setLocationHref&&(e[i].deprecated("onClick.setLocationHref option","!onClick.preventDefault"),"boolean"==typeof t.onClick.setLocationHref&&(t.onClick.preventDefault=!t.onClick.setLocationHref)),t=e.extend(!0,{},e[i].defaults,t),e[i].useOverflowScrollingFallback()){switch(t.position){case"top":case"right":case"bottom":e[i].debug('position: "'+t.position+'" not supported when using the overflowScrolling-fallback.'),t.position="left"}switch(t.zposition){case"front":case"next":e[i].debug('z-position: "'+t.zposition+'" not supported when using the overflowScrolling-fallback.'),t.zposition="back"}}return t}function n(t){return"object"!=typeof t&&(t={}),"undefined"!=typeof t.panelNodeType&&(e[i].deprecated("panelNodeType configuration option","panelNodetype"),t.panelNodetype=t.panelNodeType),t=e.extend(!0,{},e[i].configuration,t),"string"!=typeof t.pageSelector&&(t.pageSelector="> "+t.pageNodetype),t}function a(){c.$wndw=e(window),c.$html=e("html"),c.$body=e("body"),c.$allMenus=e(),e.each([u,p,d],function(e,t){t.add=function(e){e=e.split(" ");for(var n in e)t[e[n]]=t.mm(e[n])}}),u.mm=function(e){return"mm-"+e},u.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose nooverflowscrolling"),u.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},p.mm=function(e){return"mm-"+e},p.add("parent style scrollTop offetLeft"),d.mm=function(e){return e+".mm"},d.add("toggle open opening opened close closing closed update setPage setSelected transitionend touchstart touchend mousedown mouseup click keydown keyup resize"),e[i]._c=u,e[i]._d=p,e[i]._e=d,e[i].glbl=c,e[i].useOverflowScrollingFallback(m)}function o(t,n){if(t.hasClass(u.current))return!1;var a=e("."+u.panel,n),o=a.filter("."+u.current);return a.removeClass(u.highest).removeClass(u.current).not(t).not(o).addClass(u.hidden),t.hasClass(u.opened)?o.addClass(u.highest).removeClass(u.opened).removeClass(u.subopened):(t.addClass(u.highest),o.addClass(u.subopened)),t.removeClass(u.hidden).removeClass(u.subopened).addClass(u.current).addClass(u.opened),"open"}function s(){return c.$scrollTopNode||(0!=c.$html.scrollTop()?c.$scrollTopNode=c.$html:0!=c.$body.scrollTop()&&(c.$scrollTopNode=c.$body)),c.$scrollTopNode?c.$scrollTopNode.scrollTop():0}function r(t,n,a){var o=e[i].support.transition;"webkitTransition"==o?t.one("webkitTransitionEnd",n):o?t.one(d.transitionend,n):setTimeout(n,a)}var i="mmenu",l="4.1.7";if(!e[i]){var c={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null,$scrollTopNode:null},u={},d={},p={},f=0;e[i]=function(e,t,n){return c.$allMenus=c.$allMenus.add(e),this.$menu=e,this.opts=t,this.conf=n,this.serialnr=f++,this._init(),this},e[i].prototype={open:function(){return this._openSetup(),this._openFinish(),"open"},_openSetup:function(){var e=s();this.$menu.addClass(u.current),c.$allMenus.not(this.$menu).trigger(d.close),c.$page.data(p.style,c.$page.attr("style")||"").data(p.scrollTop,e).data(p.offetLeft,c.$page.offset().left);var t=0;c.$wndw.off(d.resize).on(d.resize,function(e,n){if(n||c.$html.hasClass(u.opened)){var a=c.$wndw.width();a!=t&&(t=a,c.$page.width(a-c.$page.data(p.offetLeft)))}}).trigger(d.resize,[!0]),this.conf.preventTabbing&&c.$wndw.off(d.keydown).on(d.keydown,function(e){return 9==e.keyCode?(e.preventDefault(),!1):void 0}),this.opts.modal&&c.$html.addClass(u.modal),this.opts.moveBackground&&c.$html.addClass(u.background),"left"!=this.opts.position&&c.$html.addClass(u.mm(this.opts.position)),"back"!=this.opts.zposition&&c.$html.addClass(u.mm(this.opts.zposition)),this.opts.classes&&c.$html.addClass(this.opts.classes),c.$html.addClass(u.opened),this.$menu.addClass(u.opened),c.$page.scrollTop(e),this.$menu.scrollTop(0)},_openFinish:function(){var e=this;r(c.$page,function(){e.$menu.trigger(d.opened)},this.conf.transitionDuration),c.$html.addClass(u.opening),this.$menu.trigger(d.opening),window.scrollTo(0,1)},close:function(){var e=this;return r(c.$page,function(){e.$menu.removeClass(u.current).removeClass(u.opened),c.$html.removeClass(u.opened).removeClass(u.modal).removeClass(u.background).removeClass(u.mm(e.opts.position)).removeClass(u.mm(e.opts.zposition)),e.opts.classes&&c.$html.removeClass(e.opts.classes),c.$wndw.off(d.resize).off(d.keydown),c.$page.attr("style",c.$page.data(p.style)),c.$scrollTopNode&&c.$scrollTopNode.scrollTop(c.$page.data(p.scrollTop)),e.$menu.trigger(d.closed)},this.conf.transitionDuration),c.$html.removeClass(u.opening),this.$menu.trigger(d.closing),"close"},_init:function(){if(this.opts=t(this.opts,this.conf,this.$menu),this.direction=this.opts.slidingSubmenus?"horizontal":"vertical",this._initPage(c.$page),this._initMenu(),this._initBlocker(),this._initPanles(),this._initLinks(),this._initOpenClose(),this._bindCustomEvents(),e[i].addons)for(var n=0;n<e[i].addons.length;n++)"function"==typeof this["_addon_"+e[i].addons[n]]&&this["_addon_"+e[i].addons[n]]()},_bindCustomEvents:function(){var t=this;this.$menu.off(d.open+" "+d.close+" "+d.setPage+" "+d.update).on(d.open+" "+d.close+" "+d.setPage+" "+d.update,function(e){e.stopPropagation()}),this.$menu.on(d.open,function(n){return e(this).hasClass(u.current)?(n.stopImmediatePropagation(),!1):t.open()}).on(d.close,function(n){return e(this).hasClass(u.current)?t.close():(n.stopImmediatePropagation(),!1)}).on(d.setPage,function(e,n){t._initPage(n),t._initOpenClose()});var n=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+u.panel);n.off(d.toggle+" "+d.open+" "+d.close).on(d.toggle+" "+d.open+" "+d.close,function(e){e.stopPropagation()}),"horizontal"==this.direction?n.on(d.open,function(){return o(e(this),t.$menu)}):n.on(d.toggle,function(){var t=e(this);return t.triggerHandler(t.parent().hasClass(u.opened)?d.close:d.open)}).on(d.open,function(){return e(this).parent().addClass(u.opened),"open"}).on(d.close,function(){return e(this).parent().removeClass(u.opened),"close"})},_initBlocker:function(){var t=this;c.$blck||(c.$blck=e('<div id="'+u.blocker+'" />').css("opacity",0).appendTo(c.$body)),c.$blck.off(d.touchstart).on(d.touchstart,function(e){e.preventDefault(),e.stopPropagation(),c.$blck.trigger(d.mousedown)}).on(d.mousedown,function(e){e.preventDefault(),c.$html.hasClass(u.modal)||t.$menu.trigger(d.close)})},_initPage:function(t){t||(t=e(this.conf.pageSelector,c.$body),t.length>1&&(e[i].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">."),t=t.wrapAll("<"+this.conf.pageNodetype+" />").parent())),t.addClass(u.page),c.$page=t},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){e(this).attr("id",u.mm(e(this).attr("id")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$menu.prependTo("body").addClass(u.menu),this.$menu.addClass(u.mm(this.direction)),this.opts.classes&&this.$menu.addClass(this.opts.classes),this.opts.isMenu&&this.$menu.addClass(u.ismenu),"left"!=this.opts.position&&this.$menu.addClass(u.mm(this.opts.position)),"back"!=this.opts.zposition&&this.$menu.addClass(u.mm(this.opts.zposition))},_initPanles:function(){var t=this;this.__refactorClass(e("."+this.conf.listClass,this.$menu),"list"),this.opts.isMenu&&e("ul, ol",this.$menu).not(".mm-nolist").addClass(u.list);var n=e("."+u.list+" > li",this.$menu);this.__refactorClass(n.filter("."+this.conf.selectedClass),"selected"),this.__refactorClass(n.filter("."+this.conf.labelClass),"label"),this.__refactorClass(n.filter("."+this.conf.spacerClass),"spacer"),n.off(d.setSelected).on(d.setSelected,function(t,a){t.stopPropagation(),n.removeClass(u.selected),"boolean"!=typeof a&&(a=!0),a&&e(this).addClass(u.selected)}),this.__refactorClass(e("."+this.conf.panelClass,this.$menu),"panel"),this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+u.list).children().children().filter(this.conf.panelNodetype)).addClass(u.panel);var a=e("."+u.panel,this.$menu);a.each(function(n){var a=e(this),o=a.attr("id")||u.mm("m"+t.serialnr+"-p"+n);a.attr("id",o)}),a.find("."+u.panel).each(function(){var n=e(this),a=n.is("ul, ol")?n:n.find("ul ,ol").first(),o=n.parent(),s=o.find("> a, > span"),r=o.closest("."+u.panel);if(n.data(p.parent,o),o.parent().is("."+u.list)){var i=e('<a class="'+u.subopen+'" href="#'+n.attr("id")+'" />').insertBefore(s);s.is("a")||i.addClass(u.fullsubopen),"horizontal"==t.direction&&a.prepend('<li class="'+u.subtitle+'"><a class="'+u.subclose+'" href="#'+r.attr("id")+'">'+s.text()+"</a></li>")}});var o="horizontal"==this.direction?d.open:d.toggle;if(a.each(function(){var n=e(this),a=n.attr("id");e('a[href="#'+a+'"]',t.$menu).off(d.click).on(d.click,function(e){e.preventDefault(),n.trigger(o)})}),"horizontal"==this.direction){var s=e("."+u.list+" > li."+u.selected,this.$menu);s.add(s.parents("li")).parents("li").removeClass(u.selected).end().each(function(){var t=e(this),n=t.find("> ."+u.panel);n.length&&(t.parents("."+u.panel).addClass(u.subopened),n.addClass(u.opened))}).closest("."+u.panel).addClass(u.opened).parents("."+u.panel).addClass(u.subopened)}else e("li."+u.selected,this.$menu).addClass(u.opened).parents("."+u.selected).removeClass(u.selected);var r=a.filter("."+u.opened);r.length||(r=a.first()),r.addClass(u.opened).last().addClass(u.current),"horizontal"==this.direction&&a.find("."+u.panel).appendTo(this.$menu)},_initLinks:function(){var t=this;e("."+u.list+" > li > a",this.$menu).not("."+u.subopen).not("."+u.subclose).not('[rel="external"]').not('[target="_blank"]').off(d.click).on(d.click,function(n){var a=e(this),o=a.attr("href");t.__valueOrFn(t.opts.onClick.setSelected,a)&&a.parent().trigger(d.setSelected);var s=t.__valueOrFn(t.opts.onClick.preventDefault,a,"#"==o.slice(0,1));s&&n.preventDefault(),t.__valueOrFn(t.opts.onClick.blockUI,a,!s)&&c.$html.addClass(u.blocking),t.__valueOrFn(t.opts.onClick.close,a,s)&&t.$menu.triggerHandler(d.close)})},_initOpenClose:function(){var t=this,n=this.$menu.attr("id");n&&n.length&&(this.conf.clone&&(n=u.umm(n)),e('a[href="#'+n+'"]').off(d.click).on(d.click,function(e){e.preventDefault(),t.$menu.trigger(d.open)}));var n=c.$page.attr("id");n&&n.length&&e('a[href="#'+n+'"]').off(d.click).on(d.click,function(e){e.preventDefault(),t.$menu.trigger(d.close)})},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):"undefined"==typeof e&&"undefined"!=typeof n?n:e},__refactorClass:function(e,t){e.removeClass(this.conf[t+"Class"]).addClass(u[t])}},e.fn[i]=function(o,s){return c.$wndw||a(),o=t(o,s),s=n(s),this.each(function(){var t=e(this);t.data(i)||t.data(i,new e[i](t,o,s))})},e[i].version=l,e[i].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}},e[i].configuration={preventTabbing:!0,panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",transitionDuration:400},function(){var t=window.document,n=window.navigator.userAgent,a=document.createElement("div").style,o="ontouchstart"in t,s="WebkitOverflowScrolling"in t.documentElement.style,r=function(){return"webkitTransition"in a?"webkitTransition":"transition"in a}(),l=function(){return n.indexOf("Android")>=0?2.4>parseFloat(n.slice(n.indexOf("Android")+8)):!1}();e[i].support={touch:o,transition:r,oldAndroidBrowser:l,overflowscrolling:function(){return o?s?!0:l?!1:!0:!0}()}}(),e[i].useOverflowScrollingFallback=function(e){return c.$html?("boolean"==typeof e&&c.$html[e?"addClass":"removeClass"](u.nooverflowscrolling),c.$html.hasClass(u.nooverflowscrolling)):(m=e,e)},e[i].debug=function(){},e[i].deprecated=function(e,t){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+e+" is deprecated, use "+t+" instead.")};var m=!e[i].support.overflowscrolling}}(jQuery),!function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(n))}function n(t){var n=t.target,a=e(n);if(!a.is("[type=submit],[type=image]")){var o=a.closest("[type=submit]");if(0===o.length)return;n=o[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=a.offset();s.clk_x=t.pageX-r.left,s.clk_y=t.pageY-r.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var a,o,s=e.param(n,t.traditional).split("&"),r=s.length,i=[];for(a=0;r>a;a++)s[a]=s[a].replace(/\+/g," "),o=s[a].split("="),i.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return i}function r(a){for(var o=new FormData,s=0;s<a.length;s++)o.append(a[s].name,a[s].value);if(t.extraData){var r=n(t.extraData);for(s=0;s<r.length;s++)r[s]&&o.append(r[s][0],r[s][1])}t.data=null;var i=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(i.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,a=e.loaded||e.position,o=e.total;e.lengthComputable&&(n=Math.ceil(100*(a/o))),t.uploadProgress(e,a,o,n)},!1),n}),i.data=null;var c=i.beforeSend;return i.beforeSend=function(e,t){t.data=o,c&&c.call(this,e,t)},e.ajax(i)}function i(n){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){a("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){a("cannot get iframe.contentDocument: "+n),t=e.document}return t}function r(){function t(){try{var e=o(v).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){a("Server abort: ",n," (",n.name,")"),i(T),x&&clearTimeout(x),x=void 0}}var n=d.attr2("target"),s=d.attr2("action");C.setAttribute("target",m),l||C.setAttribute("method","POST"),s!=p.url&&C.setAttribute("action",p.url),p.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(x=setTimeout(function(){y=!0,i(w)},p.timeout));var r=[];try{if(p.extraData)for(var c in p.extraData)p.extraData.hasOwnProperty(c)&&(e.isPlainObject(p.extraData[c])&&p.extraData[c].hasOwnProperty("name")&&p.extraData[c].hasOwnProperty("value")?r.push(e('<input type="hidden" name="'+p.extraData[c].name+'">').val(p.extraData[c].value).appendTo(C)[0]):r.push(e('<input type="hidden" name="'+c+'">').val(p.extraData[c]).appendTo(C)[0]));p.iframeTarget||(g.appendTo("body"),v.attachEvent?v.attachEvent("onload",i):v.addEventListener("load",i,!1)),setTimeout(t,15);try{C.submit()}catch(u){var f=document.createElement("form").submit;f.apply(C)}}finally{C.setAttribute("action",s),n?C.setAttribute("target",n):d.removeAttr("target"),e(r).remove()}}function i(t){if(!$.aborted&&!F){if(A=o(v),A||(a("cannot access response document"),t=T),t===w&&$)return $.abort("timeout"),void k.reject($,"timeout");if(t==T&&$)return $.abort("server abort"),void k.reject($,"error","server abort");if(A&&A.location.href!=p.iframeSrc||y){v.detachEvent?v.detachEvent("onload",i):v.removeEventListener("load",i,!1);var n,s="success";try{if(y)throw"timeout";var r="xml"==p.dataType||A.XMLDocument||e.isXMLDoc(A);if(a("isXml="+r),!r&&window.opera&&(null===A.body||!A.body.innerHTML)&&--O)return a("requeing onLoad callback, DOM not available"),void setTimeout(i,250);var l=A.body?A.body:A.documentElement;$.responseText=l?l.innerHTML:null,$.responseXML=A.XMLDocument?A.XMLDocument:A,r&&(p.dataType="xml"),$.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e]},l&&($.status=Number(l.getAttribute("status"))||$.status,$.statusText=l.getAttribute("statusText")||$.statusText);var c=(p.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||p.textarea){var d=A.getElementsByTagName("textarea")[0];if(d)$.responseText=d.value,$.status=Number(d.getAttribute("status"))||$.status,$.statusText=d.getAttribute("statusText")||$.statusText;else if(u){var m=A.getElementsByTagName("pre")[0],h=A.getElementsByTagName("body")[0];m?$.responseText=m.textContent?m.textContent:m.innerText:h&&($.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!$.responseXML&&$.responseText&&($.responseXML=M($.responseText));try{D=z($,c,p)}catch(b){s="parsererror",$.error=n=b||s}}catch(b){a("error caught: ",b),s="error",$.error=n=b||s}$.aborted&&(a("upload aborted"),s=null),$.status&&(s=$.status>=200&&$.status<300||304===$.status?"success":"error"),"success"===s?(p.success&&p.success.call(p.context,D,"success",$),k.resolve($.responseText,"success",$),f&&e.event.trigger("ajaxSuccess",[$,p])):s&&(void 0===n&&(n=$.statusText),p.error&&p.error.call(p.context,$,s,n),k.reject($,"error",n),f&&e.event.trigger("ajaxError",[$,p,n])),f&&e.event.trigger("ajaxComplete",[$,p]),f&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,$,s),F=!0,p.timeout&&clearTimeout(x),setTimeout(function(){p.iframeTarget||g.remove(),$.responseXML=null},100)}}}var c,u,p,f,m,g,v,$,b,_,y,x,C=d[0],k=e.Deferred();if(n)for(u=0;u<h.length;u++)c=e(h[u]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,t),p.context=p.context||p,m="jqFormIO"+(new Date).getTime(),p.iframeTarget?(g=e(p.iframeTarget),_=g.attr2("name"),_?m=_:g.attr2("name",m)):(g=e('<iframe name="'+m+'" src="'+p.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],$={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";a("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",p.iframeSrc),$.error=n,p.error&&p.error.call(p.context,$,n,t),f&&e.event.trigger("ajaxError",[$,p,n]),p.complete&&p.complete.call(p.context,$,n)}},f=p.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[$,p]),p.beforeSend&&p.beforeSend.call(p.context,$,p)===!1)return p.global&&e.active--,k.reject(),k;if($.aborted)return k.reject(),k;b=C.clk,b&&(_=b.name,_&&!b.disabled&&(p.extraData=p.extraData||{},p.extraData[_]=b.value,"image"==b.type&&(p.extraData[_+".x"]=C.clk_x,p.extraData[_+".y"]=C.clk_y)));var w=1,T=2,S=e("meta[name=csrf-token]").attr("content"),j=e("meta[name=csrf-param]").attr("content");j&&S&&(p.extraData=p.extraData||{},p.extraData[j]=S),p.forceSync?r():setTimeout(r,10);var D,A,F,O=50,M=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},E=e.parseJSON||function(e){return window.eval("("+e+")")},z=function(t,n,a){var o=t.getResponseHeader("content-type")||"",s="xml"===n||!n&&o.indexOf("xml")>=0,r=s?t.responseXML:t.responseText;return s&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(r=a.dataFilter(r,n)),"string"==typeof r&&("json"===n||!n&&o.indexOf("json")>=0?r=E(r):("script"===n||!n&&o.indexOf("javascript")>=0)&&e.globalEval(r)),r};return k}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var m,h=[],g=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,m=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,p]),p.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,f);m&&(v=v?v+"&"+m:m),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var $=[];if(t.resetForm&&$.push(function(){d.resetForm()}),t.clearForm&&$.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};$.push(function(n){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](n).each(b,arguments)})}else t.success&&$.push(t.success);if(t.success=function(e,n,a){for(var o=t.context||this,s=0,r=$.length;r>s;s++)$[s].apply(o,[e,n,a||d,d])},t.error){var _=t.error;t.error=function(e,n,a){var o=t.context||this;_.apply(o,[e,n,a,d])}}if(t.complete){var y=t.complete;t.complete=function(e,n){var a=t.context||this;y.apply(a,[e,n,d])}}var x=e('input[type=file]:enabled[value!=""]',this),C=x.length>0,k="multipart/form-data",w=d.attr("enctype")==k||d.attr("encoding")==k,T=o.fileapi&&o.formdata;a("fileAPI :"+T);var S,j=(C||w)&&!T;t.iframe!==!1&&(t.iframe||j)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){S=i(g)}):S=i(g):S=(C||w)&&T?r(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",S);for(var D=0;D<h.length;D++)h[D]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(o)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var a=[];if(0===this.length)return a;var s=this[0],r=t?s.getElementsByTagName("*"):s.elements;if(!r)return a;var i,l,c,u,d,p,f;for(i=0,p=r.length;p>i;i++)if(d=r[i],c=d.name,c&&!d.disabled)if(t&&s.clk&&"image"==d.type)s.clk==d&&(a.push({name:c,value:e(d).val(),type:d.type}),a.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}));else if(u=e.fieldValue(d,!0),u&&u.constructor==Array)for(n&&n.push(d),l=0,f=u.length;f>l;l++)a.push({name:c,value:u[l]});else if(o.fileapi&&"file"==d.type){n&&n.push(d);var m=d.files;if(m.length)for(l=0;l<m.length;l++)a.push({name:c,value:m[l],type:d.type});else a.push({name:c,value:"",type:d.type})}else null!==u&&"undefined"!=typeof u&&(n&&n.push(d),a.push({name:c,value:u,type:d.type,required:d.required}));if(!t&&s.clk){var h=e(s.clk),g=h[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(a.push({name:c,value:h.val()}),a.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var a=this.name;if(a){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var s=0,r=o.length;r>s;s++)n.push({name:a,value:o[s]});else null!==o&&"undefined"!=typeof o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],a=0,o=this.length;o>a;a++){var s=this[a],r=e.fieldValue(s,t);null===r||"undefined"==typeof r||r.constructor==Array&&!r.length||(r.constructor==Array?e.merge(n,r):n.push(r))}return n},e.fieldValue=function(t,n){var a=t.name,o=t.type,s=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!a||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var r=t.selectedIndex;if(0>r)return null;for(var i=[],l=t.options,c="select-one"==o,u=c?r+1:l.length,d=c?r:0;u>d;d++){var p=l[d];if(p.selected){var f=p.value;if(f||(f=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),c)return f;i.push(f)}}return i}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,o=this.tagName.toLowerCase();n.test(a)||"textarea"==o?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery),$(document).ready(function(){function e(){var e=window.location.href.match(/([^/])+/g);return e[e.length-1]}function t(e,t,n){for(i=0;i<t.length;i++){var a=$("#"+t[i]);""==a.val()||a.val()==emptyerror?(a.addClass("error"),a.val(emptyerror)):a.removeClass("error")}return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n.val())||(n.addClass("error"),n.val(emailerror)),e.find(":input").hasClass("error")?!1:!0}$("#close_exam").on("click",function(){$(".overlay").fadeOut(),$("#exam_popup").fadeOut(),history.pushState("",document.title,window.location.pathname)}),$("#start_exam").on("click",function(){parent.location.hash="startExam",$("#exam_popup, .overlay").fadeIn(700),$("html, body").animate({scrollTop:0},700)}),$("body").prepend("<div class='overlay' style='display: none;'></div>"),$("#exam_popup").appendTo("body"),"#startExam"==e()&&$("#start_exam").trigger("click"),$.fn.randomize=function(e){return this.each(function(){var t=$(this),n=t.children(e);n.sort(function(){return Math.round(Math.random())-.5}),t.remove(e);for(var a=0;a<n.length;a++)t.append(n[a])})},$("#exam li").randomize("div.option"),$(".checkbox, .text").on("click",function(){$(this).closest("li").find(".option").removeClass("active wrong correct"),$(this).closest("li").find(".error_message").fadeOut(),$(this).closest(".option").addClass("active")}),$("#check_results").on("click",function(){var e=0,t=0;$("#exam li").each(function(){var n=$(this).find(".active");if("X"==n.data("true"))$(this).data("answer","correct"),e++,$(this).find(".error_message").fadeOut(),$(this).removeClass("try_again"),n.addClass("correct");else{$(this).data("answer","wrong"),$(this).addClass("try_again"),t++;var a=$(this).find(".error_message");0==n.length?a.text(a.data("no-answer")).fadeIn():(a.text(n.data("error-message")).fadeIn(),n.addClass("wrong"))}});var n=$("#exam_popup .result");if(t>0){var a=0;a=n.is(":visible")?-10:45,$("html, body").animate({scrollTop:$(".try_again:first").offset().top+a},700),$("#check_results").text("Провери отново!")}else $("html, body").animate({scrollTop:0},700);var o=window.location.href,s="http://placehold.it/400x400/ACE1AF/FFF%26text=EXERCISE",r="Упражнение по английски език | EasierEnglish.BG",i="Резултат: "+e+" верни отговора от общо "+c+" въпроса.",l="http://www.facebook.com/sharer.php?s=100&p[title]="+r+"&p[summary]="+i+"&p[url]="+encodeURIComponent(o)+"&p[images][0]="+s;jQuery("#ref_fb").attr("href",l);var c=$("#exam li").length;e>=parseInt(c)/2+1?(n.removeClass("bad").addClass("good"),$("#ref_fb").fadeIn()):n.removeClass("good").addClass("bad"),n.html("Резултат: <strong>"+e+" верни отговора</strong> от общо "+c+".").fadeIn()}),emptyerror="Задължително поле!",emailerror="Въведи валиден e-mail!",$(":input").focus(function(){$(this).hasClass("error")&&($(this).val(""),$(this).removeClass("error"))}),$contactsForm=$("#contactsForm");var n=["contact_name","contact_email","contact_message"];$contactsForm_email=$("#contact_email"),$contactsForm.submit(function(){if(t($contactsForm,n,$contactsForm_email)){var e=$.post(templateUrl+"/EmailSenders/sendMailFormContacts.php",{contact_name:$("#contact_name").val(),contact_email:$("#contact_email").val(),contact_subject:$("#contact_subject").val(),contact_message:$("#contact_message").val()});return e.success(function(){$contactsForm.fadeOut(function(){$contactsForm.html("<strong class='success'>Получихме съобщението! :)</strong>").fadeIn()})}),!1}return!1}),$("#submit_contactsForm").on("click",function(){return $contactsForm.submit(),!1}),$askQuestion_form=$("#get-free-consultation-form");var a=["contact_name","contact_email","contact_message"];$askQuestion_form_email=$("#contact_email"),$askQuestion_form.submit(function(){if(t($askQuestion_form,a,$askQuestion_form_email)){var e=$.post(templateUrl+"/EmailSenders/sendQuestion.php",{contact_name:$("#contact_name").val(),contact_email:$("#contact_email").val(),contact_message:$("#contact_message").val(),contact_city:$("#contact_city").val(),contact_age:$("#contact_age").val(),topic:$("h1").text()});return e.success(function(){$askQuestion_form.fadeOut(function(){$("#feedback_form").html("<p><strong class='success'>Получихме въпроса :)</strong> Очаквай отговор от нас.</p>").hide().fadeIn(600)})}),e.error(function(){$askQuestion_form.fadeOut(function(){$("#feedback_form").append("<p><strong class='fail'>Ооооупс, нещо формата се счупи :(</strong> Опитай да ни изпратиш запитването директно на мейл: <a href='mailto:team@easierenglish.bg'>team@easierenglish.bg</a> :)</p>").hide().fadeIn(600)})}),!1}return!1}),$("#submit_questionForm").on("click",function(){return $askQuestion_form.submit(),!1});var o=$("#teacherApply_div");o.hide(),$("#fireTeacherApply_form").on("click",function(){$(this).fadeOut(),o.slideDown()}),$teacherApply_form=$("#teacherApply_form");var s=["teacher_name","teacher_email","teacher_message"];$teacherApply_form_email=$("#teacher_email"),$teacherApply_form.submit(function(){if(t($teacherApply_form,s,$teacherApply_form_email)){var e=$.post(templateUrl+"/EmailSenders/applyForTeacher.php",{teacher_name:$("#teacher_name").val(),teacher_linkedin:$("#teacher_linkedin").val(),teacher_phone:$("#teacher_phone").val(),teacher_email:$("#teacher_email").val(),teacher_message:$("#teacher_message").val()});return e.success(function(){$teacherApply_form.fadeOut(function(){$teacherApply_form.html("<p><strong class='success'>Заявката е получена!</strong> Съвсем скоро ще се свържем с теб :)</p>").hide().fadeIn(600);
})}),!1}return!1}),$("#submit_applyForTeacherForm").on("click",function(){return $teacherApply_form.submit(),!1}),o.hide(),$("#fireTeacherApply_form").on("click",function(){$(this).fadeOut(),o.slideDown()}),$lessonRequest_form=$("#LessonResuestForm"),$lessonRequest_form.hide(),$("#fireLessonRequest_form").on("click",function(){$lessonRequest_form.slideToggle()});var r=["request_contact_name","request_contact_email","request_message"];$lessonRequest_form_email=$("#request_contact_email"),$lessonRequest_form.submit(function(){if(t($lessonRequest_form,r,$lessonRequest_form_email)){var e=$.post(templateUrl+"/EmailSenders/requestLesson.php",{request_contact_name:$("#request_contact_name").val(),request_contact_email:$("#request_contact_email").val(),request_message:$("#request_message").val()});return e.success(function(){$lessonRequest_form.fadeOut(function(){$lessonRequest_form.html("<p><strong class='success'>Молбата е получена!</strong> Когато урокът е готов, ще се свържем с теб :)</p>").hide().fadeIn(600)})}),!1}return!1}),$("#submit_lessonRequestForm").on("click",function(){return $lessonRequest_form.submit(),!1});var l=$("#feedback_form");$("#fire_feedbackForm").on("click",function(){l.is(":visible")?l.slideUp():l.slideDown()}),$.expr[":"].textEquals=$.expr.createPseudo(function(e){return function(t){return $(t).text().match("^"+e+"$")}});var c=$("#post_mainContent");if(c.size()>0){var u=c.find("h2");if(u.size()>0){var d="<p class='autoGeneratedContent_heading'>Съдържание на урока:</p><ol id='pageAutoContent' class='pageAutoContent'>";u.each(function(e,t){d+="<li>"+$(t).text()+"</li>"}),d+="</ol>",c.find("p:first").after(d),$("#pageAutoContent").on("click","li",function(){var e=$.trim($(this).text()),t=$("h2:contains("+e+")");$("html, body").animate({scrollTop:t.offset().top-$("#masthead").height()-10},1e3,function(){t.addClass("highlight"),t.animate({opacity:"0.8","background-color":"red"},300,function(){t.animate({opacity:"1"},300),t.removeClass("highlight")})})})}}var p=$("#questions_accordion > dd").hide();$("#questions_accordion > dt > a").click(function(){var e=$(this).parent().next();e.is(":visible")?e.slideUp():(p.slideUp(),e.slideDown())}),$.fn.moveTo=function(e){return this.each(function(){var t=$(this).clone();$(t).prependTo(e),$(this).remove()})},$(window).on("resize",function(){if($(this).width()<800){$mainMenuItems=$("#menu-default-menu > li").not(".menu-item-has-children"),$mainCategoriesItems=$("#categories-2 ul li");var e='<nav id="mobile_menu"><ul>';$mainMenuItems.each(function(t,n){e+="<li>"+$(n).html()+"</li>"}),e+='<li><a id="fire_mobile_categories_sub" href="javascript:;">Уроци по категории</a><ul id="mobile_categories_submenu">',$mainCategoriesItems.each(function(t,n){e+="<li>"+$(n).html()+"</li>"}),e+="</ul></li>",e+='<li><form role="search" method="get" class="searchform" action="http://easierenglish.bg/"><input type="text" value="" name="s" id="s" placeholder="Потърси урок..."></form></li>',e+="</ul></nav>",$("body").append(e),$("#mobile_menu").mmenu(),$("#masthead").moveTo(".mm-page"),$("#masthead").append('<a id="fire_mobileMenu" class="mobile_menu_button" href="javascript:;"><div class="mobile_menu_icon"></div></a>'),$("#fire_mobileMenu").on("click",function(){$("#mobile_menu").trigger("open")}),$("#fire_mobile_categories_sub").on("click",function(){$("#mobile_categories_submenu").trigger("open")}),$(window).off("resize")}}),$(window).width()<800&&$(window).resize(),/Opera/.test(navigator.userAgent)&&$("body").css("font-family","Arial, sans-serif")});